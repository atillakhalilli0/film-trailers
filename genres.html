<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Film Genres - Film Trailer Website</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body class="flex flex-col min-h-screen bg-black text-white">
    <!-- Navigation Bar -->
    <nav class="relative z-20 bg-gradient-to-r from-black/90 to-black/70 backdrop-blur-sm border-b border-gray-800">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between h-20">
          <div class="flex items-center">
            <div class="flex-shrink-0">
              <h1 class="text-2xl font-bold">
                <a href="https://film-trailers-by-atilla.vercel.app/" class="text-red-600">Film</a><a href="https://film-trailers-by-atilla.vercel.app/" class="text-white">Trailers</a>
              </h1>
            </div>
            <div class="hidden lg:block">
              <div class="ml-10 flex items-baseline space-x-6">
                <a href="https://film-trailers-by-atilla.vercel.app/" class="relative px-3 py-2 rounded-md text-sm font-medium text-white group">
                  <span class="absolute inset-x-0 bottom-0 h-0.5 bg-red-600 transform scale-x-0 origin-left transition-transform group-hover:scale-x-100"></span>
                  <i class="fas fa-home mr-2"></i>Home
                </a>
                <a href="genres.html" class="relative px-3 py-2 rounded-md text-sm font-medium text-gray-300 group hover:text-white">
                  <span class="absolute inset-x-0 bottom-0 h-0.5 bg-red-600 transform scale-x-0 origin-left transition-transform group-hover:scale-x-100"></span>
                  <i class="fas fa-film mr-2"></i>Genres
                </a>
                <a href="wishlist.html" class="relative px-3 py-2 rounded-md text-sm font-medium text-gray-300 group hover:text-white">
                  <span class="absolute inset-x-0 bottom-0 h-0.5 bg-red-600 transform scale-x-0 origin-left transition-transform group-hover:scale-x-100"></span>
                  <i class="fas fa-info-circle mr-2"></i>Wishlist
                </a>
                <a href="contact.html" class="relative px-3 py-2 rounded-md text-sm font-medium text-gray-300 group hover:text-white">
                  <span class="absolute inset-x-0 bottom-0 h-0.5 bg-red-600 transform scale-x-0 origin-left transition-transform group-hover:scale-x-100"></span>
                  <i class="fas fa-envelope mr-2"></i>Contact
                </a>
              </div>
            </div>
          </div>
          <div class="hidden lg:block">
            <div class="ml-4 flex items-center md:ml-6">
              <div class="relative">
                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                  <i class="fas fa-search text-gray-400"></i>
                </div>
                <input type="text" placeholder="Search for films..." class="bg-gray-900/80 text-white pl-10 pr-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600 w-64">
              </div>
              <div class="ml-4">
                <button class="bg-red-600 hover:bg-red-700 text-white px-5 py-2 rounded-lg font-medium transition-colors duration-200">Sign In</button>
              </div>
            </div>
          </div>
          <div class="flex lg:hidden">
            <button id="navbar-toggle" class="text-gray-400 hover:text-white focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white">
              <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
              </svg>
            </button>
          </div>
        </div>
        <!-- Mobile menu -->
        <div id="navbar-menu" class="hidden lg:hidden">
          <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
            <a href="https://film-trailers-by-atilla.vercel.app/" class="block px-3 py-2 rounded-md text-base font-medium text-white hover:bg-red-600/20 border-l-4 border-red-600"><i class="fas fa-home mr-2"></i>Home</a>
            <a href="genres.html" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:bg-red-600/20 hover:text-white border-l-4 border-transparent hover:border-red-600"><i class="fas fa-film mr-2"></i>Genres</a>
            <a href="wishlist.html" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:bg-red-600/20 hover:text-white border-l-4 border-transparent hover:border-red-600"><i class="fas fa-info-circle mr-2"></i>About</a>
            <a href="contact.html" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:bg-red-600/20 hover:text-white border-l-4 border-transparent hover:border-red-600"><i class="fas fa-envelope mr-2"></i>Contact</a>
          </div>
          <div class="pt-4 pb-3 border-t border-gray-800">
            <div class="flex items-center px-5">
              <div class="relative w-full">
                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                  <i class="fas fa-search text-gray-400"></i>
                </div>
                <input type="text" placeholder="Search for films..." class="w-full bg-gray-900 text-white pl-10 pr-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600">
              </div>
            </div>
            <div class="mt-3 px-2">
              <button class="w-full bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium transition-colors duration-200">Sign In</button>
            </div>
          </div>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8 flex-grow">
        <div id="loading" class="text-center py-8">
            <div class="inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-current border-r-transparent" role="status">
                <span class="sr-only">Loading...</span>
            </div>
            <p class="mt-2">Loading genres...</p>
        </div>
        <div id="genres-container" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
            <!-- Genre cards will be inserted here by JavaScript -->
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 py-4 mt-8">
        <div class="container mx-auto text-center">
            <span class="text-gray-400">&copy; 2024 FilmTrailers. All rights reserved.</span>
        </div>
    </footer>

    <script>
        document.addEventListener("DOMContentLoaded", async function () {
            const apiKey = 'd8972914c7508d0355cce580a7e5910d';
            const genresUrl = `https://api.themoviedb.org/3/genre/movie/list?api_key=${apiKey}&language=en-US`;
            const genreIconMap = {
                'Action': 'fa-explosion',
                'Adventure': 'fa-compass',
                'Animation': 'fa-child',
                'Comedy': 'fa-face-laugh',
                'Crime': 'fa-handcuffs',
                'Documentary': 'fa-video',
                'Drama': 'fa-masks-theater',
                'Family': 'fa-users',
                'Fantasy': 'fa-dragon',
                'History': 'fa-landmark',
                'Horror': 'fa-ghost',
                'Music': 'fa-music',
                'Mystery': 'fa-question',
                'Romance': 'fa-heart',
                'Science Fiction': 'fa-rocket',
                'TV Movie': 'fa-tv',
                'Thriller': 'fa-person-running',
                'War': 'fa-gun',
                'Western': 'fa-hat-cowboy'
            };

            try {
                const response = await fetch(genresUrl);
                const data = await response.json();
                const genres = data.genres;
                const genresContainer = document.getElementById("genres-container");
                const loading = document.getElementById("loading");
                genresContainer.innerHTML = '';
                
                // Hide loading after fetching genres
                loading.style.display = 'none';
                
                genres.forEach(genre => {
                    const iconClass = genreIconMap[genre.name] || 'fa-film';
                    const genreCard = document.createElement("div");
                    genreCard.className = "bg-gray-900 shadow-lg rounded-lg p-4 text-center hover:bg-gray-800 transition duration-300";
                    genreCard.innerHTML = `
                        <a href="genre_movies.html?id=${genre.id}" class="block">
                            <i class="fas ${iconClass} text-red-500 text-4xl mb-2"></i>
                            <h3 class="font-bold text-white text-lg">${genre.name}</h3>
                            <p class="mt-2 text-red-500 hover:text-red-400">View Movies</p>
                        </a>
                    `;
                    genresContainer.appendChild(genreCard);
                });
            } catch (error) {
                console.error("Error fetching genres:", error);
            }
        });
    </script>
</body>
</html>
